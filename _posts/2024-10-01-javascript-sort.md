---
title: 자바스크립트 정렬 sort 메서드 정리
date: 2024-10-01 21:00:00 +/-TTTT
categories: [javascript]
tags: [TIL] # TAG names should always be lowercase
description: JavaScript 정렬 sort 메소드 사용 시 헷갈렸던 부분 정리
---

**`sort()`** 메서드는 배열의 요소를 적절한 위치에 정렬한 후 그 배열을 반환한다. 기본 정렬 순서는 *문자열의 유니코드 코드 포인트*를 따른다.

> [!NOTE]
> 문자열의 유니코드 코드 포인트란 문자열을 구성하는 각 문자의 고유한 숫자 값을 의미한다.

```js
const fruits = ["banana🍌", "apple🍎", "grape🍇"];
fruits.sort();
console.log(fruits); // ['apple🍎', 'banana🍌', 'grape🍇']
```

과일이 사전 순으로 정렬되었다. 그런데 만약 숫자 배열이라면?

```js
const numbers = [1, 2, 10];
numbers.sort();
console.log(numbers); // 1, 10, 2
```

기본 정렬 순서가 유니코드 값 기준이라서 숫자가 문자열로 해석되어버렸다.
숫자를 제대로 정렬하고 싶다면 `sort` 메서드에 비교 함수를 제공해야 한다.

```js
numbers.sort(function (a, b) {
  return a - b;
});
console.log(numbers);
```

이 비교 함수에 대해 좀 더 알아보자.

## 비교 함수

비교 함수 `compareFunction(a, b)`가 제공되면 배열 요소는 함수의 반환 값에 따라 정렬된다. 여기서 a와 b는 정렬될 배열의 두 요소를 의미한다.
sort 메서드는 배열을 정렬할 때 배열 요소들을 서로 비교하면서 그 순서를 결정한다. 비교는 두 요소를 한 쌍씩 뽑아 진행되며, 이를 비교 함수에 넘겨준다. a와 b는 바로 이 비교 과정에서 한 쌍으로 뽑힌 두 요소이다.

비교 함수는 세 가지 결과 중 하나를 반환해야 한다.

- 음수: a가 먼저 온다.
- 양수: b가 먼저 온다.
- 0: 순서를 그대로 유지한다.

**오름차순 정렬**

```js
let numbers = [4, 2, 5, 1, 3];

numbers.sort((a, b) => a - b);
```

첫 번째 비교에서 a는 4, b는 2이다. 4 - 2 = 2로 양수가 반환되면 b인 2가 4보다 앞으로 간다. 즉, 작은 수가 더 앞에 온다. 이어서 2와 5를 비교 시 2 - 5 = -3으로 음수니 더 작은 수인 a가 앞에 간다.

그런데 비교 순서는 정해져 있는것일까?
sort 메소드는 내부적으로 비교하는 순서가 고정되어 있지 않고 자바스크립트 엔진에 따라 다르게 동작할 수 있다. 즉, 정렬 과정에서 어떤 요소가 먼저 비교되는지, 어떤 순서로 비교가 진행되는지는 자바스크립트 엔진이 효율적으로 정렬하기 위한 방식에 따라 달라진다.
따라서, 요소들이 비교되는 순서는 딱 정해져있진 않지만 결과적으론 비교 함수의 리턴값에 따라 올바르게 정렬된다.

**내림 차순 정렬**
만약 내림차순으로 정렬하고 싶다면 b - a를 사용하면 된다.

```js
numbers.sort((a, b) => b - a);
console.log(numbers); // [5, 4, 3, 2, 1]
```

b - a 결과가 양수일 때 더 큰 수인 b가 앞에 오도록하여 내림차순으로 정렬한다.
